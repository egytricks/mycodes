/* 
	Turtle skin by Laszlo Molnar (C) 2011
	version 3.5.4
*/
var DEBUG=!1,UNDEF="undefined",OBJECT="object",NOLINK="javascript:void(0)",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash";String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trunc=function(b){if(this.length<=b)return this.toString();var b=this.substring(0,b-1),n=b.lastIndexOf(" ");return(6<n&&20>b.length-n?b.substring(0,n):b)+"..."};
String.prototype.startsWith=function(b){return 0===this.indexOf(b)};String.prototype.endsWith=function(b){return this.substring(this.length-b.length)===b};String.prototype.getExt=function(){var b=this.lastIndexOf(".");return 0>=b||b>=this.length-1?"":this.substring(b+1).toLowerCase()};String.prototype.replaceExt=function(b){var n=this.lastIndexOf(".");return 0>=n?this:this.substring(0,n+1)+b};String.prototype.fixExtension=function(){return this.replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")};
var htmlregex=[[/<br>/gi,"\n"],[/\&amp;/gi,"&"],[/\&lt;/gi,"<"],[/\&gt;/gi,">"],[/\&(m|n)dash;/gi,"-"],[/\&apos;/gi,"'"],[/\&quot;/gi,'"']];String.prototype.cleanupHTML=function(){for(var b=this,n=htmlregex.length-1;0<=n;n--)b=b.replace(htmlregex[n][0],htmlregex[n][1]);return b};String.prototype.stripHTML=function(){return this.replace(/<\/?[^>]+>/gi,"")};String.prototype.stripQuote=function(){return this.replace(/\"/gi,"&quot;")};
String.prototype.appendSep=function(b,n){return(this.length?this+(n||" &middot; "):"")+b};String.prototype.rgb2hex=function(){if("#"===this.charAt(0)||"transparent"==this)return this;for(var b,n=this.match(/\d+/g),o="",v=0;v<n.length&&3>v;v++)b=parseInt(n[v]).toString(16),o+=(2>b.length?"0":"")+b;return"#"+o};String.prototype.template=function(b){if(!b)return this;for(var n=this,o=0;o<b.length;o++)n=n.replace(RegExp("\\{"+o+"\\}","gi"),b[o]);return n};
Math.minMax=function(b,n,o){n=isNaN(n)?parseFloat(n):n;return n<b?b:n>o?o:n};var getCoords=function(b){return b.touches&&0<b.touches.length?{x:Math.round(b.touches[0].clientX),y:Math.round(b.touches[0].clientY)}:null!=b.clientX?{x:Math.round(b.clientX),y:Math.round(b.clientY)}:{x:UNDEF,y:UNDEF}};
checkFlash=function(b){var n=navigator,o=[1,0,0],v,b=b?b.split("."):[0,0,0];if(typeof n.plugins!=UNDEF&&typeof n.plugins[SHOCKWAVE_FLASH]==OBJECT){if((v=n.plugins[SHOCKWAVE_FLASH].description)&&!(typeof n.mimeTypes!=UNDEF&&n.mimeTypes[FLASH_MIME_TYPE]&&!n.mimeTypes[FLASH_MIME_TYPE].enabledPlugin))v=v.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(v.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(v.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(v)?parseInt(v.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),
10):0}else if(typeof window.ActiveXObject!=UNDEF)try{var O=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(O&&typeof O.GetVariable!=UNDEF&&(v=O.GetVariable("$version")))v=v.split(" ")[1].split(","),o[0]=parseInt(v[0],10),o[1]=parseInt(v[1],10),o[2]=parseInt(v[2],10)}catch(aa){}return o[0]>b[0]||o[0]==b[0]&&o[1]>b[1]||o[0]==b[0]&&o[1]==b[1]&&o[2]>=b[2]};
(function(b){var n=b.browser.msie&&"ms"||b.browser.webkit&&"webkit"||b.browser.mozilla&&"moz"||b.browser.opera&&"o"||"",o,v=!1,O,aa=1;log=function(a){DEBUG&&!v&&(o||(o=b('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:15px;z-index:99999"></div>').hover(function(){v=!0},function(){v=!1}).appendTo("body")),a===O?o.children(":first").empty().html(O+" ("+ ++aa+")"):(b('<div style="height:2em;overflow:hidden;">'+
a+"</div>").prependTo(o),O=a,aa=1))};typeof Search!==UNDEF&&(Search.start=function(a){var d=a&&a.tagName&&a.nodeName?"FORM"===a.nodeName?b(a).find("input[type=search]").val().trim():b(a).text().trim():String(a),c=b("<div>",{"class":"searchresults"}),e=0,f,g,i,p,h,k,j,u=RegExp("("+d.replace(/\s/g,"|")+")","i");if(Search.data&&b.isArray(Search.data)&&Search.data.length&&d&&!(2>d.length)){c.append(b("<h4>",{html:Search.text.headln+" &quot;<b>"+d+"</b>&quot;"}));for(g=0;g<Search.data.length;g++)for(i=
0;i<Search.data[g][1].length;i++)if(u.test(Search.data[g][1][i])){j=Search.data[g][1][i].split(Search.sep);k=Search.rootPath&&"."!==Search.rootPath?Search.rootPath+"/":"";p=k+(Search.data[g][0]?Search.data[g][0]+"/":"");h=b("<a>",{href:p+(j[0].startsWith("#")?Search.indexName:"")+j[0]}).on("click",function(a){if(!window.location.href.endsWith(b(this).attr("href")))return F("lastSearch",d,8),!0;a.cancelBubble();return!1}).appendTo(c);h.append(b("<aside>").append(b("<img>",{src:j[0].startsWith("#")?
j[0].toLowerCase().match(/.+\.(jpg|png)$/)?p+"thumbs/"+j[0].substr(1).replace(/%25/g,"%"):k+"res/unknown.png":p+Search.folderThumb})));j[1]&&h.append(b("<h5>").append(j[1]));j[2]&&j[2]!==j[1]&&h.append(b("<p>").append(j[2].trunc(192)));for(p=3;p<j.length;p++)j[p]&&j[p].trim().length&&h.append(b("<p>").append(j[p].trunc(192)));window.location.hash===j[0]&&(f=e);e++}b(a).parents(".hint:first").fadeOut(100,function(){b(this).remove()});e?setTimeout(function(){b(".searchresults a").eq(f||0).focus()},
250):c.append(b("<p>",{text:Search.text.notFound}));b("body").addModal(c,{uid:"searchres",darkenBackground:!1,title:Search.text.title});return!1}},Search.init=function(){var a=F("lastSearch");a&&a.length&&(F("lastSearch",null),Search.start(a))});b.fn.logEvents=function(a){var d=a||"mousedown mouseup mouseover mouseout mousewheel dragstart click blur focus, load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend";
return this.each(function(){b(this).on(d,function(a){a.target.id!=="log"&&log(a.type+' <span style="padding:0 4px;font-size:0.8em;background-color:#000;border-radius:4px;"><b>'+a.target.nodeName.toLowerCase()+"</b>"+(a.target.id?":"+a.target.id:"")+"</span>"+(a.relatedTarget?' <span style="padding:0 4px;font-size:0.8em;background-color:#800;border-radius:4px;"><b>'+a.relatedTarget.nodeName.toLowerCase()+"</b>"+(a.relatedTarget.id?":"+a.relatedTarget.id:"")+"</span>":""));return true})})};b.fn.trackCss=
function(a,d,c){var c=c||20,e=new Date;return this.each(function(){var f=b(this),g=function(a){var b=new Date-e;log(b+"&nbsp;::&nbsp;"+a+" = "+f.css(a));b>d&&clearInterval(i)},i=setInterval(function(){if(b.isArray(a))for(var c=0;c<a.length;c++)g(a[c]);else g(a)},c)})};b.fn.readData=function(a,d){if(a==null||d==null)return this;var d=d.split(","),c,e=d.length,f;return this.each(function(){for(c=0;c<e;c++)if((f=b(this).data(d[c]))!=null)a[d[c]]=f})};b.extend(b.support,{orientation:"orientation"in window,
touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,cssTable:!b.browser.msie||8<=b.browser.version,cssFilter:b.browser.msie&&8>=b.browser.version,flash:checkFlash("9.0.0")});b.extend(jQuery.easing,{easeOutBack:function(a,b,c,e,f,g){g==null&&(g=1.70158);return e*((b=b/f-1)*b*((g+1)*b+g)+1)+c},easeOutCubic:function(a,b,c,e,f){return e*((b=b/f-1)*b*b+1)+c}});b.fn.showin=function(){return this.each(function(){b(this).css("display","inline-block")})};b.fn.togglein=function(){return this.each(function(){b(this).css("display",
b(this).is(":visible")?"inline-block":"none")})};b.fn.getDim=function(){var a=b(this).eq(0),d={width:a.width(),height:a.height()};if((d.width===0||d.height===0)&&a.css("display")==="none"){var c=a.css("position"),e=a.css("left");a.css({position:"absolute",left:"-10000px",display:"block"});d.width=a.width();d.height=a.height();a.css({display:"none",position:c,left:e})}return d};var Q=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var I=Q.length;I;)b.event.fixHooks[Q[--I]]=b.event.mouseHooks;
b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=Q.length;a;)this.addEventListener(Q[--a],X,false);else this.onmousewheel=X},teardown:function(){if(this.removeEventListener)for(var a=Q.length;a;)this.removeEventListener(Q[--a],X,false);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});var X=function(a){var d=a||window.event,c=
[].slice.call(arguments,1),e=0,f=0,g=0,a=b.event.fix(d);a.type="mousewheel";d.wheelDelta?e=d.wheelDelta/120:d.detail&&(e=-d.detail/3);g=e;if(d.axis!==void 0&&d.axis===d.HORIZONTAL_AXIS){g=0;f=-1*e}d.wheelDeltaY!==void 0&&(g=d.wheelDeltaY/120);d.wheelDeltaX!==void 0&&(f=-1*d.wheelDeltaX/120);c.unshift(a,e,f,g);return(b.event.dispatch||b.event.handle).apply(this,c)},F=function(a,b,c){if(arguments.length>1){var e=new Date;if(b===false||b===null)document.cookie=encodeURIComponent(a)+"=; expires="+e.toGMTString()+
"; path=/";else if(/^(string|number|boolean)$/.test(typeof b)){e.setTime(e.getTime()+(typeof c!=="number"?3600:c)*1E3);document.cookie=encodeURIComponent(a)+"="+String(b)+"; expires="+e.toGMTString()+"; path=/"}return b}if(a)for(var a=a+"=",e=document.cookie.split(";"),f,g=0;g<e.length;g++){f=e[g].trim();if(f.indexOf(a)===0){f=f.substring(a.length);return/^(true|yes)$/.test(f)?true:/^(false|no)$/.test(f)?false:/^([\d.]+)$/.test(f)?parseFloat(f):f}}return null},A={put:function(a,b){(b||window).location.hash=
this.encoder(a)},get:function(a){a=(a||window).location.hash.replace(/^#/,"");try{return b.browser.mozilla?a:decodeURIComponent(a)}catch(d){return a}},encoder:encodeURIComponent},R={id:"__jQuery_history",init:function(){var a='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';b("body").prepend(a);return this},_document:function(){return b("#"+this.id)[0].contentWindow.document},put:function(a){var b=this._document();b.open();b.close();A.put(a,b)},get:function(){return A.get(this._document())}},
fa={base:{callback:void 0,type:void 0,check:function(){},load:function(){},init:function(a,d){var c;c=b.extend({unescape:false},d||{});var e=c.unescape;if(e===true)c=function(a){return a};else{if(c=typeof e=="string"){c=e.split("");var f=RegExp(b.map(c,encodeURIComponent).join("|"),"ig");c=e=function(a){return a.replace(f,decodeURIComponent)}}c=c||typeof e=="function"?function(a){return e(encodeURIComponent(a))}:encodeURIComponent}A.encoder=c;r.callback=a;r._options=d;r._init()},_init:function(){},
_options:{}},timer:{_appState:void 0,_init:function(){var a=A.get();r._appState=a;r.callback(a);setInterval(r.check,100)},check:function(){var a=A.get();if(a!=r._appState){r._appState=a;r.callback(a)}},load:function(a){if(a!=r._appState){A.put(a);r._appState=a;r.callback(a)}}},iframeTimer:{_appState:void 0,_init:function(){var a=A.get();r._appState=a;R.init().put(a);r.callback(a);setInterval(r.check,100)},check:function(){var a=R.get(),b=A.get();if(b!=a)if(b==r._appState){r._appState=a;A.put(a);r.callback(a)}else{r._appState=
b;R.put(b);r.callback(b)}},load:function(a){if(a!=r._appState){A.put(a);R.put(a);r._appState=a;r.callback(a)}}},hashchangeEvent:{_init:function(){r.callback(A.get());b(window).on("hashchange",r.check)},check:function(){r.callback(A.get())},load:function(a){A.put(a)}}},r=b.extend({},fa.base);r.type=b.browser.msie&&(8>b.browser.version||8>document.documentMode)?"iframeTimer":"onhashchange"in window?"hashchangeEvent":"timer";b.extend(r,fa[r.type]);b.history=r;b.fn.addModal=function(a,d,c){typeof a===
"string"&&(a=b(a));if(a instanceof jQuery&&a.length){if(!b.isArray(d)){c=d;d=null}c=b.extend({},b.fn.addModal.defaults,c);c.savePosition=c.savePosition&&typeof c.uid!=UNDEF;var e,f,g,i,p,h,k=0,j;e=b("<div>",{"class":"_m_window",role:"modal"}).css({opacity:0}).appendTo(b(this));b(this).css({position:"relative"});c.darkenBackground||e.css({backgroundImage:"none",backgroundColor:"transparent"});c.uid&&e.find("#"+c.uid).remove();f=b("<div>",{id:c.uid||"_mod_"+Math.floor(Math.random()*1E4),"class":"_m_panel"}).css({width:c.width}).appendTo(e);
g=b("<header>",{"class":"_m_head"}).appendTo(f);g.append(b("<h5>",{text:c.title}));var u=function(){i.trigger("removeHint");j=clearTimeout(j);e.animate({opacity:0},c.speed,function(){e.remove()});return false};if(c.closeOnClickOut&&c.darkenBackground)e.on("click",function(a){b(a.target).hasClass("_m_window")&&u(a);return true});i=b("<a>",{href:NOLINK,"class":"close"}).appendTo(g);if(b.support.touch)i[0].ontouchend=u;else{i.on("click",u);i.addHint(c.closeWindow)}var B=function(a){var d=f.position().left,
j=f.position().top,i=getCoords(a);lm=e.width()-f.width()-c.pad;tm=e.height()-f.height()-c.pad;oc=g.css("cursor");g.css({cursor:"move"});var u=function(a){a=getCoords(a);f.css({left:Math.minMax(c.pad,d+a.x-i.x,lm),top:Math.minMax(c.pad,j+a.y-i.y,tm)});return false},h=function(){b(document).off({mousemove:u,mouseup:h});g.css("cursor",oc);c.savePosition&&C();return false};if(b.support.touch){this.ontouchmove=u;this.ontouchend=h}else b(document).on({mousemove:u,mouseup:h});return false};if(b.support.touch)g[0].ontouchstart=
B;else g.on("mousedown",B);p=b("<div>",{"class":"_m_cont"}).appendTo(f);h=b("<div>",{"class":"_m_cont_i"}).append(a).appendTo(p);if(d&&d.length){for(var H,x=b("<div>",{"class":"buttons"}).appendTo(h),n=function(a){H.each(function(c){b(this).toggleClass("active",c===a)})},m=function(){b(document).off("keydown",r);u()},r=function(a){if(document.activeElement&&document.activeElement.nodeName==="input"||b.isFunction(c.enableKeyboard)&&!c.enableKeyboard())return true;var d=a?a.keyCode:window.event.keyCode;
if(d===27){m();return false}if(x){var e=x.find("a.active"),f=H.index(e);switch(d){case 13:case 10:if(b.isFunction(e[0].handler)){e[0].handler.call();m();break}case 39:n((f+1)%H.length);break;case 37:n(f?f-1:H.length-1);break;default:return a.returnValue=true}return false}return a.returnValue=true},B=0;B<d.length;B++){B&&x.append(" ");a=b("<a>",{href:NOLINK,html:d[B].t}).appendTo(x);if(b.isFunction(d[B].h))a[0].handler=d[B].h;a.on("click",function(){this.handler!=null&&this.handler.call();m();return false})}H=
x.children("a");H.last().addClass("active");if(b.isFunction(c.enableKeyboard)||c.enableKeyboard)b(document).on("keydown",r)}if(c.resizable){g.on("dblclick",function(){var a=[f.position().left,f.position().top,f.width(),f.height()],b=[c.pad,c.pad,e.width()-2*c.pad,e.height()-2*c.pad],d=function(a){f.css({left:Math.minMax(c.gap,a[0],e.width()-a[2]-c.gap),top:Math.minMax(c.gap,a[1],e.height()-a[3]-c.gap),width:a[2],height:a[3]});h.css({height:a[3]-k})};if(a[0]==b[0]&&a[1]==b[1]&&a[2]==b[2]&&a[3]==b[3])d(f.data("wpos"));
else{d(b);f.data("wpos",a)}c.savePosition&&C();return false});d=b("<a>",{"class":"resize"}).appendTo(f);a=function(a){var d=f.width(),e=f.height(),j=getCoords(a),g=function(a){var a=getCoords(a),b=Math.max(e+a.y-j.y-k,20);f.css({width:Math.max(d+a.x-j.x,60),height:b+k});h.css({height:b});return false},u=function(){b(document).off({mousemove:g,mouseup:u});c.savePosition&&C();return false};if(b.support.touch){this.ontouchmove=g;this.ontouchend=u}else b(document).on({mousemove:g,mouseup:u});return false};
if(b.support.touch)d[0].ontouchstart=a;else d.on("mousedown",a)}var o=function(){var a=f.width(),b=f.height(),d=e.width(),j=e.height();k=b-h.height();if(a&&b&&d&&j){a+2*c.pad>d&&f.css({width:a=d-2*c.pad});if(b+2*c.pad>j){f.css({height:b=j-2*c.pad});h.css({height:j-2*c.pad-k})}f.css({left:Math.max(Math.round((d-a)/2),c.pad),top:Math.max(Math.round((j-b)/2),c.pad)})}},C=function(){F("modalPosition"+c.uid,f.position().left+","+f.position().top+","+f.width()+","+f.height())},E=c.savePosition?F("modalPosition"+
c.uid):null;e.css({opacity:0}).show();setTimeout(function(){if(E&&(E=E.split(","))&&b.isArray(E)&&E.length>3){var a=E,d=e.width(),i=e.height(),m=parseInt(a[0]),x=parseInt(a[1]),B=parseInt(a[2]),a=parseInt(a[3]);(isNaN(m)||isNaN(x)||isNaN(B)||isNaN(a))&&o();k=g.outerHeight()+parseInt(p.css("padding-top"))+parseInt(p.css("padding-bottom"))+parseInt(h.css("padding-top"))+parseInt(h.css("padding-bottom"))+parseInt(p.css("border-top-width"));f.css({position:"absolute",left:Math.minMax(c.pad,m,d-c.pad-
60),top:Math.minMax(c.pad,x,i-c.pad-60),width:Math.minMax(60,B,d-m-c.pad),height:a=Math.minMax(60,a,i-x-c.pad)});h.css({height:a-k})}else o();e.animate({opacity:1},c.speed);c.savePosition&&C();c.autoFade&&(j=setTimeout(u,c.autoFade))},40);return this}};b.fn.addModal.defaults={speed:250,autoFade:0,width:400,resizable:!0,enableKeyboard:!0,closeOnClickOut:!0,closeWindow:"Close window",darkenBackground:!0,savePosition:!0,pad:6};b.fn.addScroll=function(a){a=b.extend({},b.fn.addScroll.defaults,a);return this.each(function(){var d,
c=b(this),e=b(this).parent(),f,g,i,p,h,k,j,u,B=0,H,x,n,m,r,o;c.css({position:"absolute",width:e.width-20});e.css({overflow:"hidden"});e.css("position")!=="absolute"&&e.css({position:"relative"});f=b("<div>",{"class":a.upbtn}).appendTo(e);g=b("<div>",{"class":a.dnbtn}).appendTo(e);i=b("<div>",{"class":a.scbar}).appendTo(e);p=b("<div>").appendTo(i);h=f.add(g).add(i);h.hide();var C=function(){return c.position().top},E=function(a){return Math.round((i.height()-6)*-(a==null?C():a)/k)+3},na=function(){return Math.max(Math.round((i.height()-
6)*j/k),a.dragMinSize)},y=function(b){b==null&&(b=C());f.css({opacity:b?1:a.disabledOpacity});g.css({opacity:b===j-k?a.disabledOpacity:1})},G=function(){return false},z=function(){var a=k,b=j;k=c.height();j=e.height();if(a!==k||b!==j)if(k<=j){c.css({top:0}).off("selectstart",G);h.hide()}else{c.position().top<j-k&&c.css({top:j-k});p.css({top:E(),height:na()});c.on("selectstart",G);h.show();y()}},J=function(b){clearInterval(u);if(!(j>=k)){b=Math.minMax(j-k,b,0);p.stop(true,true).animate({top:E(b)},
a.speed,a.effect);c.stop(true,true).animate({top:b},a.speed,a.effect,function(){y(b)})}};f.on("click",function(){J(C()+j);return false});g.on("click",function(){J(C()-j);return false});i.on("click",function(a){a.pageY<p.offset().top?J(C()+j):a.pageY>p.offset().top+p.height()&&J(C()-j);return false});if(a.enableMouseWheel)c.on("mousewheel",function(b,c){c&&J(C()+a.wheelIncr*(c<0?-1:1));return false});var v=function(a){p.css({top:Math.minMax(2,Math.round(a.pageY-p.data("my")),i.height()-p.height()-
2)});c.css({top:Math.minMax(j-k,-Math.round((p.position().top-3)*k/(i.height()-6)),0)});y();return false},va=function(){b(document).off("mousemove",v).off("mouseup",va);return false};p.on("mousedown",function(a){b(this).data("my",Math.round(a.pageY)-b(this).position().top);b(document).on({mousemove:v,mouseup:va});return false});var Y=function(a){return B=a.touches&&a.touches.length>0?a.touches[0].clientY:a.clientY?a.clientY:B},A=function(){r=r+Math.round(m/20);var a=n+r;if(a>0||a<o)clearInterval(u);
else{c.css({top:a});p.css({top:E(),height:na()});m=m*0.8;if(Math.abs(m)<10){m=0;clearInterval(u)}}},I=function(a){if(x){if(a=Y(a)-x){c.data("dragOn",true);c.css({top:Math.minMax(o,H+a,0)});p.css({top:E(),height:na()})}}else x=Y(a);return false},F=function(a){n=C();var a=Y(a)-x,d=(new Date).getTime()-tT;m=1E3*a/d;u=setInterval(A,50);if(b.support.touch)this.ontouchend=this.ontouchmove=null;else b(document).off({mousemove:I,mouseup:F});setTimeout(function(){c.data("dragOn",false)},20);return Math.abs(a)<
4&&d<300},S=function(a){if(j>=k||(a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||c.is(":animated")))return true;clearInterval(u);te=a;H=C();x=Y(a);tT=(new Date).getTime();r=0;o=j-k;if(b.support.touch){b(a.target).closest("a").focus();this.ontouchmove=I;this.ontouchend=F;return true}b(document).on({mousemove:I,mouseup:F});return false};if(b.support.touch)c[0].ontouchstart=S;else c.on("mousedown",S);b(window).on("resize",function(){clearTimeout(d);d=setTimeout(z,50)});
d=setTimeout(z,10);a.refresh&&setInterval(function(){b("[role=gallery]").is(":visible")||z()},a.refresh);c.attr("role","scroll").data("dragOn",false).on("adjust",z);h.on("selectstart",G);c.find("a").on("setactive",function(){var a=b(this).parent()===c?b(this):b(this).parent(),d=a.position().top,a=a.outerHeight(true),f=c.position().top,j=e.height();if(!(j>c.height())){if(d+a>j-f)f=Math.max(j-a-d,j-c.height());else if(d<-f)f=-d;else return;J(f)}});if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(document).on("keydown",
function(c){if(document.activeElement&&document.activeElement.nodeName==="INPUT"||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return true;switch(c?c.keyCode:window.event.keyCode){case 33:J(C()+j);return false;case 34:J(C()-j);return false}return c.returnValue=true})})};b.fn.addScroll.defaults={upbtn:"scrup",dnbtn:"scrdn",scbar:"scrbar",dragMinSize:10,speed:300,effect:"swing",disabledOpacity:0.3,wheelIncr:50,enableKeyboard:!0,enableMouseWheel:!0,refresh:0};b.fn.scrollThumbs=function(a){a=b.extend({},
b.fn.scrollThumbs.defaults,a);return this.each(function(){var d=b(this),c=b(this).parent(),e=0,f,g,i,p,h,k,j,u,B=b("<div>",{"class":a.scleft}).insertAfter(c),H=b("<div>",{"class":a.scright}).insertAfter(c),x=function(b){b=b==null?d.position().left:b;B.css({opacity:b<0?1:a.disabledOpacity});H.css({opacity:c.width()<b+d.width()?1:a.disabledOpacity})},n=function(e){var f=c.width(),j=d.width();if(f&&j&&!(f>=j)&&b.isNumeric(e)){e>0?e=0:e<f-j&&(e=f-j);x(e);d.stop(true,false).animate({left:e},a.speed,a.effect)}};
B.on("click",function(){n(d.position().left+c.width());return false});H.on("click",function(){n(d.position().left-c.width());return false});d.find("a").on("setactive",function(){var e=b(this).parent()===d?b(this):b(this).parent(),f=e.position().left,e=e.outerWidth(true),j=Math.round(e*a.headRoom),g=d.position().left,u=c.width();d.find("a.active").removeClass("active");b(this).addClass("active");if(!(u>d.width())){if(f>u-e-j-g)g=Math.max(u-e-j-f,u-d.width());else if(f<-g+j)g=-f+j;else return;n(g)}});
if(a.enableMouseWheel)d.on("mousewheel",function(a,b){b&&n(d.position().left+c.width()*(b<0?-1:1));return false});x();var m=function(a){return e=a.touches&&a.touches.length>0?a.touches[0].clientX:a.clientX?a.clientX:e},r=function(){k=k+Math.round(h/20);var a=p+k;if(a>0||a<j)clearInterval(u);else{d.css({left:a});h=h*0.8;if(Math.abs(h)<10){h=0;clearInterval(u)}}},o=function(a){if(g){if(a=m(a)-g){d.data("dragOn",true);d.css({left:Math.minMax(j,f+a,0)})}}else g=m(a);return false},C=function(a){p=d.position().left;
var a=m(a)-g,c=(new Date).getTime()-i;h=1E3*a/c;u=setInterval(r,50);if(b.support.touch)this.ontouchend=this.ontouchmove=null;else b(document).off({mousemove:o,mouseup:C});setTimeout(function(){d.data("dragOn",false)},20);return Math.abs(a)<4&&c<300},E=function(a){if((a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||d.is(":animated")))return true;clearInterval(u);te=a;f=d.position().left;g=m(a);i=(new Date).getTime();k=0;j=c.width()-d.width();if(b.support.touch){b(a.target).closest("a").focus();
this.ontouchmove=o;this.ontouchend=C;return true}b(document).on({mousemove:o,mouseup:C});return false};if(b.support.touch)d[0].ontouchstart=E;else d.on("mousedown",E);d.attr("role","scroll").data("dragOn",false);d.add(B).add(H).on("selectstart",function(a){a.preventDefault();return false})})};b.fn.scrollThumbs.defaults={scleft:"scleft",scright:"scright",speed:1500,incr:100,effect:"easeOutBack",headRoom:0.67,disabledOpacity:0.3,enableMouseWheel:!0};b.fn.addSwipe=function(a,d,c){c=b.extend({},b.fn.addSwipe.defaults,
c);return this.each(function(){var e=b(this),f=0,g=0,i=0,p=0,h,k,j,u,B,H,x,n,m,o,r,C;e.attr("draggable","true");var E=function(a){if(a.touches&&a.touches.length>0){f=a.touches[0].clientX;g=a.touches[0].clientY}else if(a.clientX){f=a.clientX;g=a.clientY}},v=function(a){E(a);i=f;p=g},y=function(a){if(i){E(a);C?e.css({left:f-i+h}):e.css({left:f-i+h,top:g-p+k})}else v(a);return false},G=function(){return false},z=function(m){E(m);var B=(new Date).getTime()-j,m=f-i;if(b.support.touch)this.ontouchend=this.ontouchmove=
null;else b(document).off("mousemove",y).off("mouseup click",z);if(n<u)if(Math.abs(m)<c.treshold){C?e.animate({left:h},200):e.animate({left:h,top:k},200);e.trigger("click")}else{C?e.animate({left:e.position().left+Math.round(333*(f-i)/B)},500,"easeOutCubic"):e.animate({left:e.position().left+Math.round(333*(f-i)/B),top:e.position().top+Math.round(333*(g-p)/B)},500,"easeOutCubic");m<0?b.isFunction(a)&&a.call():b.isFunction(d)&&d.call()}else{C?e.animate({left:Math.minMax(o,e.position().left+Math.round(333*
(f-i)/B),c.margin)},500,"easeOutCubic"):e.animate({left:Math.minMax(o,e.position().left+Math.round(333*(f-i)/B),c.margin),top:Math.minMax(r,e.position().top+Math.round(333*(g-p)/B),c.margin)},500,"easeOutCubic");B=e.position().left;m<0?B+n<H&&b.isFunction(a)&&a.call():B>x&&b.isFunction(d)&&d.call()}return false},J=function(a){if((a.type==="touchstart"||a.type==="touchmove")&&(!a.touches||a.touches.length>1||e.is(":animated")))return true;v(a);I(a)},I=function(a){e.stop(true,false);h=e.position().left;
k=e.position().top;j=(new Date).getTime();u=e.parent().outerWidth();B=e.parent().outerHeight();H=u*(1-c.oversizeTreshold);x=u*c.oversizeTreshold;n=e.outerWidth();m=e.outerHeight();o=u-c.margin-n;r=B-c.margin-m;C=m<=B;if(b.support.touch){this.ontouchmove=y;this.ontouchend=z;return true}e.off("click");e.click(G);b(document).on({mousemove:y,mouseup:z});a.cancelBubble=true;return false};if(b.support.touch)this.ontouchstart=J;else e.on({dragstart:I,mousedown:v});e.on("dragcancel",function(){e.stop(true,
false).animate({left:h,top:k},200);return false});e.on("unswipe",function(){if(b.support.touch)this.ontouchstart=this.ontouchend=this.ontouchmove=null;else{b.isFunction(e.noAction)&&e.off(G);b.isFunction(e.dragStart)&&e.off(I);b(document).off("mousemove",y).off("mouseup",z)}});e.on("selectstart",G)})};b.fn.addSwipe.defaults={treshold:40,oversizeTreshold:0.15,margin:15};var oa=ALIGN_TOP=0,V=ALIGN_MIDDLE=1,Ka=ALIGN_BOTTOM=2;b.fn.alignTo=function(a,d){d=b.extend({},b.fn.alignTo.defaults,d);typeof a===
"string"&&(a=b(a));if(a instanceof b&&a.length){var c=a.offset(),e=a.outerWidth(),f=a.outerHeight();return b(this).each(function(){var g=b(this).outerWidth(),i=b(this).outerHeight(),p=Math.round(c.left+d.toX*e/2+(d.toX-1)*d.gap);ry=Math.round(c.top+d.toY*f/2+(d.toY-1)*d.gap);l=Math.round(p-d.posX*g/2);t=Math.round(ry-d.posY*i/2);t<0?d.toX!==V?t=0:d.toY!==ALIGN_BOTTOM&&(t=c.top+a.outerHeight()+d.gap):t+i>b(window).height()&&(d.toX!==V?t=b(window).height()-i:d.toY!==ALIGN_TOP&&(t=c.top-i-d.gap));l<
0?d.toY!==ALIGN_MIDDLE?l=0:d.toX!=Ka&&(l=c.left+a.outerWidth()+d.gap):l+g>b(window).width()&&(d.toY!==ALIGN_MIDDLE?l=b(window).width()-g:d.toX!=oa&&(l=c.left-g-d.gap));b(this).css({position:"absolute",left:l,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:V,posY:ALIGN_BOTTOM,toX:V,toY:ALIGN_TOP};b.fn.addHint=function(a,d){if(a&&typeof a!=="string"&&!a.jquery){d=a;a=null}d=b.extend({},b.fn.addHint.defaults,d);return this.each(function(){var c=b(this),e=a||c.attr("title"),f,g=false,i=false,p=!(e&&e.jquery),
h;if(e&&e.length){var k=function(){if(p){var a=b("#"+d.id);a.length||(a=b("<div>",{"class":d.id,id:d.id}).hide().appendTo("body"));h=a;h.empty().html(e)}else h=e.show();h.off("mouseover",j);h.off("mouseout",k);var j=function(){f=clearTimeout(f);g=true;h.stop(true,true).css({opacity:1}).show()},k=function(){if(!i){f=clearTimeout(f);g=false;u()}};h.on("mouseover",j);h.on("mouseout",k);h.find("input").on({focus:function(){i=true;j()},blur:function(){i=false}});h.stop(true,true).alignTo(c,{posX:d.posX,
posY:d.posY,toX:d.toX,toY:d.toY});h.css({opacity:0}).show().animate({opacity:1},200);b.support.touch?f=setTimeout(u,d.stay):g=true};c.on("removeHint",function(){j()});var j=function(){g=false;f=clearTimeout(f);u()},u=function(){!g&&(h&&h.length)&&h.stop(true,false).animate({opacity:0},200,function(){b(this).hide()})};e.jquery?e.addClass(d.id):c.removeAttr("title");c.on(b.support.touch?{touchstart:k}:{"focus mouseenter":k,"blur mouseleave":j})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:V,posY:ALIGN_BOTTOM,
toX:V,toY:ALIGN_TOP};b.fn.popupBox=function(a){a=b.extend({},b.fn.popupBox.defaults,a);b("#"+a.id).remove();var d,c=b("<div>",{id:a.id}).appendTo("body"),e=b("<div>",{"class":"panel"}).appendTo(c);e.css({width:a.width}).append(this);var f=function(){c.fadeOut(250,function(){b(this).remove()})};c.fadeIn(250,function(){d=setTimeout(f,a.length)});e.css({marginTop:Math.max(Math.round((b(window).height()-e.outerHeight())*0.4),0)}).on({mouseover:function(){d=clearTimeout(d);b(this).stop(true,false).css("opacity",
1)},mouseout:function(){d=setTimeout(f,a.length)}});return this};b.fn.popupBox.defaults={id:"modal",width:200,length:500};b.fn.alertBox=function(a,d){if(!b.isArray(a)){d=a;a=null}d=b.extend({},b.fn.alertBox.defaults,d);b("#"+d.id).remove();var c=b("<div>",{id:d.id,role:"alertBox"}).appendTo("body"),e=b("<div>",{"class":"panel"}).appendTo(c),f,g;e.append(this);e.append(b("<a>",{"class":"close",href:NOLINK,text:" "}).on("click",function(){p();return false}));a&&(f=b("<div>",{"class":"buttons"}).appendTo(e));
e.css({width:d.width});var i=function(a){if(document.activeElement&&document.activeElement.nodeName==="input"||b.isFunction(d.enableKeyboard)&&!d.enableKeyboard())return true;var c=a?a.keyCode:window.event.keyCode;if(c===27)p();else if(f){var e=f.find("a.active"),j=g.index(e);switch(c){case 13:case 10:if(b.isFunction(e[0].handler)){e[0].handler.call();p();return false}case 39:h((j+1)%g.length);return false;case 37:h(j?j-1:g.length-1);return false}}return a.returnValue=true},p=function(){b(document).off("keydown",
i);c.fadeOut(250,function(){b(this).remove()})},h=function(a){g.each(function(c){b(this).toggleClass("active",c===a)})};if(a&&a.length){for(var k,j=0;j<a.length;j++){j&&f.append(" ");k=b("<a>",{href:NOLINK}).appendTo(f);k.html(a[j].t);if(b.isFunction(a[j].h))k[0].handler=a[j].h;k.on("click",function(){this.handler!=null&&this.handler.call();p();return false})}g=f.children("a");g.last().addClass("active")}if(b.isFunction(d.enableKeyboard)||d.enableKeyboard)w.on("keydown",keyhandler);c.fadeIn(250);
e.css({marginTop:Math.max(Math.round((b(window).height()-e.outerHeight())*0.4),0)});return this};b.fn.alertBox.defaults={id:"modal",width:420,enableKeyboard:!0};b.fn.equalHeight=function(){var a,d,c=0,e=0,f;return(f=b(this).length)<2?this:this.each(function(g){a=b(this);if(a.offset().top===c){d=d?d.add(a):a;e=Math.max(e,a.height());g===f-1&&e&&d.height(e)}else{d&&e&&d.height(e);d=a;e=a.height();c=a.offset().top}})};b.fn.shareIt=function(a){var a=b.extend({},b.fn.shareIt.defaults,a),d=a.useHash?window.location.href:
window.location.href.split("#")[0],c=encodeURIComponent(a.title||b("meta[name=title]").attr("content")||b("title").text()),e=encodeURIComponent(a.callTxt),f=d.substring(0,d.lastIndexOf("/")+1)+(a.image||encodeURIComponent(b("link[rel=image_src]").attr("href")));return this.each(function(){var g=b(this);this.nodeName==="a"&&g.attr("href",NOLINK);var i=b("<div>",{"class":a.id}).hide();if(location.protocol.startsWith("file:")&&!DEBUG)i.html(a.localWarning);else{a.facebookLike&&!a.useHash&&i.append('<div class="likebtn"><iframe src="http://www.facebook.com/plugins/like.php?href='+
d+"&amp;layout=button_count&amp;show_faces=false&amp;width=110&amp;action=like&amp;font=arial&amp;colorscheme="+a.likeBtnTheme+'&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:110px; height:20px;" allowTransparency="true"></iframe></div>');a.twitterTweet&&!a.useHash&&i.append('<div class="likebtn"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+d+"&text="+c+'" style="width:55px; height:20px;"></iframe></div>');
if(a.googlePlus&&gapi&&!a.useHash){var p=b('<div class="g-plusone likebtn" data-size="medium" data-annotation="inline" data-href="'+d+'" data-width="110"></div>').appendTo(i);gapi.plusone.render(p[0])}a.tumblrBtn&&i.append('<div class="likebtn" id="tumblr"><a href="http://www.tumblr.com/share/'+(a.image?"photo?source=":"link?url=")+encodeURIComponent(d)+"&name="+c+'" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url(http://platform.tumblr.com/v1/share_1.png) top left no-repeat transparent;">Tumblr</a></div>');
a.pinItBtn&&i.append('<div class="likebtn" id="pinitbtn"><iframe src="http://pinit-cdn.pinterest.com/pinit.html?url='+d+"&amp;media="+f+"&amp;description="+c+'&amp;layout=horizontal" scrolling="no" frameborder="0" style="border:none;width:110px;height:20px;"></iframe></div>');a.facebook&&!a.useHash&&i.append('<a href="http://www.facebook.com/sharer.php?u='+d+"&t="+c+'" class="facebook">Facebook</a>');a.twitter&&i.append('<a href="http://twitter.com/home?status='+e+": "+d+'" class="twitter">Twitter</a>');
a.gplus&&i.append(b("<a>",{"class":"gplus",href:"https://plus.google.com/share?url="+d,title:"Share on Google+",text:"Google+"}).on("click",function(){window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=980,width=760");return false}));a.digg&&i.append('<a href="http://digg.com/submit?url='+d+'" class="digg">Digg</a>');a.delicious&&i.append('<a href="http://delicious.com/save?url='+d+"&title="+c+'&v=5" class="delicious">Delicious</a>');a.myspace&&i.append('<a href="http://www.myspace.com/index.cfm?fuseaction=postto&t='+
c+"&u="+d+'&l=3" class="myspace">MySpace</a>');a.stumbleupon&&i.append('<a href="http://www.stumbleupon.com/submit?url='+d+"&title="+c+'" class="stumbleupon">StumbleUpon</a>');a.reddit&&i.append('<a href="http://www.reddit.com/submit?url='+d+'" class="reddit">Reddit</a>');i.children("a").attr("target","_blank");a.email&&i.append('<a href="mailto:?subject='+e+"&body="+c+"%0D%0A"+d+'" class="email">Email</a>')}g.addHint(i.appendTo("body"),a.pos).on("destroy",function(){i.remove()})})};b.fn.shareIt.defaults=
{id:"shares",useHash:!0,likeBtnTheme:"light",facebookLike:!0,twitterTweet:!0,googlePlus:!0,tumblrBtn:!0,facebook:!0,twitter:!0,gplus:!0,digg:!0,delicious:!0,myspace:!0,stumbleupon:!0,reddit:!0,email:!0,callTxt:"Found this page",pos:{posX:1,posY:2,toX:1,toY:0},localWarning:"Can't share local albums. Please upload your album first!"};b.fn.addRegions=function(a,d,c){if(a&&a.length&&d){c=b.extend({},b.fn.addRegions.defaults,c);a.width();a.height();for(var e=[],f,g,i,p,h,k=d.split("::"),d=0;d<k.length;d++){f=
k[d].split(";");f.length>4&&(f[0].length&&(g=parseFloat(f[1]))!=null&&(i=parseFloat(f[2]))!=null&&(p=parseFloat(f[3]))!=null&&(h=parseFloat(f[4]))!=null)&&e.push([f[0],g*100+"%",i*100+"%",p*100+"%",h*100+"%"])}return!e.length?this:this.each(function(){var d=b(this),f,g;f=parseInt(d.css("padding-top"));this.nodeName==="a"&&d.attr("href",NOLINK);var i=b("<div>",{"class":c.id}).hide(),h=b("<div>",{"class":c.id+"-cont"}).css({left:f,top:f,right:f,bottom:f});for(I=0;I<e.length;I++){f=b('<a href="'+NOLINK+
'">'+e[I][0]+"</a>").appendTo(i);g=b("<a>").css({left:e[I][1],top:e[I][2],width:e[I][3],height:e[I][4]}).append(b("<span>",{text:e[I][0]})).appendTo(h);f.on({mouseover:function(){h.children("a").eq(b(this).index()).addClass(c.active)},mouseout:function(){h.children("a").eq(b(this).index()).removeClass(c.active)}});if(typeof Search!==UNDEF)g.on("click",function(){Search.start(this);return false})}d.addHint(i.appendTo("body"),c.pos).on("destroy",function(){i.remove()});d.hasClass(c.active)&&h.addClass(c.active);
d.on("click",function(){b(this).add(h).toggleClass(c.active)});a.append(h)})}};b.fn.addRegions.defaults={id:"regions",active:"active",pos:{posX:1,posY:2,toX:1,toY:0}};var Z={flashVideo:[".flv.3gp.3g2",24],flash:[".swf",0],video:[".mp4.f4v.m4v",24],html5Video:[".ogv.webm",30],qtVideo:[".qt.mov.mpg.mpeg.mpe",16],wmVideo:[".avi.wmv.asf.asx.wvx.mkv",64],audio:[".mp3.aac.m4a",24],html5audio:[".ogg.wav.ram.rm",30]},wa=function(a){a=a.getExt();if(!a.length)return null;for(var b in Z)if(Z[b][0].indexOf(a)>=
0)return b;return null};b.fn.addPlayer=function(a){var a=b.extend({},b.fn.addPlayer.defaults,a),d=0,c=a.resPath?a.resPath+"/":"",e=function(a){var b="",c;for(c in a)b=b+('<param name="'+c+'" value="'+a[c]+'">');return b},f=function(a){var c=b(a.target);if(c)if(b.browser.msie){c.hide();(function(){if(c.readyState==4){if(c){for(var a in c)typeof c[a]==="function"&&(c[a]=null);c.remove()}}else setTimeout(arguments.callee,10)})()}else c.remove()},g=function(f,g,j,i,p,n){var x="media"+d++;f.addClass("flplayer").css({width:j,
height:i+Z.flashVideo[1]});g="netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&id="+x+"&file="+encodeURIComponent(g)+"&image="+encodeURIComponent(p)+(n&&n.length?"&folder="+encodeURIComponent(n):"")+"&autostart="+a.auto+"&loop="+a.loop+"&screencolor="+encodeURIComponent(a.bgcolor)+"&controlbar.position=bottom";x='<object id="'+x+'" name="'+x+'" width="100%" height="100%" bgcolor="'+a.bgcolor+'" tabindex="0" ';x=b.browser.msie?x+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+
e({movie:c+a.swf}):x+('type="application/x-shockwave-flash" data="'+c+a.swf+'">');x=x+e({allowfullscreen:true,allowscriptaccess:"always",seamlesstabbing:true,wmode:"opaque",flashvars:g});return b(x).appendTo(f)},i=function(c,e,f,g){var i="em"+d++;c.addClass("emplayer");return b('<embed class="otherplayer" id="'+i+'" src="'+e+'" autostart="'+a.auto+'" loop="'+a.loop+'" width="'+f+'" height="'+g+'">').appendTo(c)},p=function(c,e,f,g,p,n){if((n=n!==UNDEF&&n)&&!Modernizr.audio||!n&&!Modernizr.video)return i(c,
e,f,g);var x="ht"+d++,o=Z.html5Video[1];c.addClass("h5player").css({width:f,height:g+o});c=b(n?"<audio>":"<video>",{id:x,src:e,width:f,height:g,controls:true,preload:"auto",poster:p,autoplay:a.auto,loop:a.loop}).appendTo(c);if(b.isFunction(a.complete))c.on("ended",a.complete);return c};return this.each(function(){var h=b(this),k=null;h.readData(a,"file,folder,width,height,poster");if(a.file){switch(wa(a.file)){case "flashVideo":if(!b.support.flash){h.append(a.flashInstall);break}case "video":if(b.support.flash){k=
g(h,a.file,a.width,a.height,a.poster);break}case "html5Video":k=p(h,a.file,a.width,a.height,a.poster);break;case "qtVideo":var k=a.file,j=a.width,u=a.height,n="qt"+d++,o=Z.qtVideo[1];h.addClass("qtplayer").css({width:j,height:u+o});j='<object id="'+n+'" width="'+j+'" height="'+(u+o)+'" '+(b.browser.msie?'classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0">':'type="video/quicktime" data="'+k+'">');j=j+e({src:k,autoplay:a.auto,
scale:a.fit?"tofit":"1",enablejavascript:true,postdomevents:true});h=b(j).appendTo(h);if(b.isFunction(a.complete))h.on("qt_ended",a.complete);k=h;break;case "wmVideo":k=a.file;j=a.width;u=a.height;n="wm"+d++;o=Z.wmVideo[1];h.addClass("wmplayer").css({width:j,height:u+o});j='<object id="'+n+'" width="'+j+'" height="'+u+'" '+(b.browser.msie?'classid="CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6">':'type="application/x-ms-wmp" data="'+k+'">');j=j+e({URL:k,SendPlayStateChangeEvents:true,AutoStart:a.auto,
StretchToFit:a.fit});b.browser.msie||(j=j+"<a></a>");el=b(j).appendTo(h);if(b.isFunction(a.complete))el.on("playStateChange",function(){a.complete.call(this)});k=el;break;case "audio":if(b.support.flash){if(a.swf==b.fn.addPlayer.defaults.swf)k=g(h,a.file,a.width,a.height,a.poster,a.folder);else{k=a.file;j=a.width;u=a.height;n=a.folder;h.addClass("flplayer").css({width:j,height:u});k="file="+encodeURIComponent(k)+(n&&n.length?"&folder="+encodeURIComponent(n):"")+"&autostart="+a.auto+"&loop="+a.loop;
j='<object width="100%" height="100%" bgcolor="'+a.bgcolor+'" tabindex="0" ';j=b.browser.msie?j+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+e({movie:c+a.swf}):j+('type="application/x-shockwave-flash" data="'+c+a.swf+'">');j=j+e({wmode:"opaque",flashvars:k});k=b(j).appendTo(h)}break}case "html5audio":k=p(h,a.file,a.width,a.height,a.poster,true);break;default:k=i(h,a.file,a.width,a.height)}k.on("destroy",f)}})};b.fn.addPlayer.defaults={complete:null,swf:"player.swf",width:640,height:480,
bgcolor:"#000000",auto:!1,loop:!1,fit:!0,poster:"",folder:"",flashInstall:'<a href="http://get.adobe.com/flashplayer/">Get Adobe Flash Player!</a>'};b.fn.centerThis=function(a){a=b.extend({},b.fn.centerThis.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector);if(c.length){var e,f,g,i,p,h=a.marginLeft+a.padding;e=a.marginRight+a.padding;var k=a.marginTop+a.padding,j=a.marginBottom+a.padding;f=c.data("ow");g=c.data("oh");if(!f||!g){c.data("ow",f=c.width());c.data("oh",g=c.height())}if(!(i=
c.data("bw")))c.data("bw",i=parseInt(c.css("border-top-width"))||0);if(!(p=c.data("pw")))c.data("pw",p=parseInt(c.css("padding-top"))||0);e=(d.innerWidth()||b("body").width())-2*(i+p)-h-e;d=(d.innerHeight()||b("body").height())-2*(i+p)-k-j;if(a.fit&&(f>e||g>d||a.enlarge)){i=Math.min(e/f,d/g);f=Math.round(f*i);g=Math.round(g*i)}i=Math.round((e-f)/2)+h;p=Math.round((d-g)/2)+k;if(a.animate){c.stop(true,false);if(a.preScale&&a.preScale!==1){var j=f*a.preScale,u=g*a.preScale;c.css({left:Math.round((e-
j)/2)+h,top:Math.round((d-u)/2)+k,width:Math.round(j),height:Math.round(u)})}else a.init&&c.css({left:i,top:p});c.animate({left:i,top:p,width:f,height:g},{duration:a.speed,easing:a.effect,complete:a.complete})}else{c.css({left:i,top:p,width:f,height:g});b.isFunction(a.complete)&&a.complete.call(this)}}})};b.fn.centerThis.defaults={selector:".main",speed:500,fit:!0,enlarge:!0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,padding:0,init:!1,animate:!1,effect:"swing",complete:null};b.fn.setupShop=
function(a){var a=b.extend({},b.fn.setupShop.defaults,a),d;b.fn.addInput=function(a,d,f,g){var i;return!a||d==null?this:this.each(function(){i=b("<input>",{type:f||"text"}).appendTo(b(this));i.attr("name",a);i.addClass(a);i.val(typeof d==="string"?d.stripQuote():d);g&&i.prop(g,g)})};b.fn.addSelect=function(a,e,f){return!a.length?this:this.each(function(){var g=b(this),g=b("<select>").appendTo(g);for(d=0;d<a.length;d++)g.append(b("<option>",{val:a[d].val,text:a[d].key+" ("+e+" "+a[d].val+")"}));b.isFunction(f)&&
g.change(f)})};return this.each(function(){var c=b(this),e,f,g;c.readData(a,"gateway,id,currency,handling,options,file");if(!(a.id==null||a.options==null||a.file==null)){id=a.gateway=="paypal"?{form:"paypal",seller:"business",currency:"currency_code",title:"item_name",select:"item_number",price:"amount",copies:"quantity",shipprice:"shipping",shipprice2:"shipping2",handling:"handling_cart",shopUrl:"shopping_url"}:{form:"google_checkout",currency:"item_currency_1",title:"item_name_1",select:"item_description_1",
price:"item_price_1",copies:"item_quantity_1",shipmethod:"ship_method_name_1",shipprice:"ship_method_price_1",shipcurrency:"ship_method_currency_1"};var i=a.options.split("::"),p,h=[];for(d=0;d<i.length;d++){p=i[d].split("=");p.length>1&&h.push({key:p[0],val:p[1]})}a.id=a.id.replace("|","@");var k=function(c){var d=f.children("[name^="+id.shipprice+"]");if(c===null||c===false||!b.isNumeric(c))a.gateway==="paypal"?d.remove():d.val(0);else if(d.length)d.val(c);else if(a.gateway==="paypal"){f.addInput(id.shipprice,
c,"hidden");a.shippingFlat||f.addInput(id.shipprice2,c,"hidden")}},i=function(){var b=e.length?e.children("select").eq(0):false;if(b&&b.length){var c,b=b.val().split("+");q=e.children("[name=copies]").val()||1;if(a.quantityCap&&q>a.quantityCap)e.children("[name=copies]").val(q=a.quantityCap);(c=e.children("[name=total]"))&&c.val((b[0]*q).toFixed(2));(c=f.children("[name="+id.price+"]"))&&c.val(b[0]);(c=f.children("[name="+id.copies+"]"))&&c.val(q);k(b.length>1?b[1]:null);(c=f.children("[name="+id.select+
"]"))&&c.val(e.find("option:selected").text())}};e=b("<form>",{name:"shopping",method:"post"}).appendTo(c);e.addSelect(h,a.currency,i);a.quantityCap!=1&&e.append("x").addInput("copies",1);e.append("=").addInput("total",h[0].val.split("+")[0],"text","readonly");e.children("[name=copies]").css({width:"3em"}).change(i);e.children("[name=total]").css({width:"5em"});e.append(a.currency);if(a.gateway==="paypal"){g=h[0].val.split("+");f=b("<form>",{name:id.form,target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",
method:"post"}).appendTo(c);f.addInput("cmd","_cart","hidden");f.addInput("add",1,"hidden");f.addInput(id.seller,a.id,"hidden");f.addInput(id.copies,1,"hidden");f.addInput(id.price,g[0],"hidden");f.addInput(id.currency,a.currency,"hidden");k(g.length>1?g[1]:null);a.handling!=null&&b.isNumeric(a.handling)&&f.addInput(id.handling,a.handling,"hidden");f.addInput(id.title,decodeURIComponent(a.path+a.file),"hidden");f.addInput(id.select,h[0].key+" ("+a.currency+" "+h[0].val+")","hidden");f.addInput(id.shopUrl,
window.location.href,"hidden");f.addInput("charset","utf-8","hidden");f.addInput("lc",a.locale,"hidden");f.append(b("<input>",{id:"shopAdd",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_cart_SM.gif",alt:"Add to Cart"}));g=b("<form>",{"class":"view",name:"paypalview",target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(c);g.addInput("cmd","_cart","hidden");g.addInput("display",1,"hidden");g.addInput(id.seller,a.id,"hidden");g.addInput("lc",
a.locale,"hidden");g.append(b("<input>",{id:"shopView",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_viewcart_SM.gif",alt:"View Cart"}))}else if(a.gateway==="google"){i=a.id.match(/(\d+)/)[0];f=b("<form>",{name:id.form,target:a.target,action:"https://checkout.google.com/cws/v2/Merchant/"+i+"/checkoutForm",method:"post","accept-charset":"utf-8"}).appendTo(c);f.addInput(id.title,decodeURIComponent(a.path+a.file),"hidden");f.addInput(id.select,h[0].key,"hidden");f.addInput(id.copies,
1,"hidden");f.addInput(id.price,h[0].val.split("+")[0],"hidden");f.addInput(id.currency,a.currency,"hidden");if(a.shipping!=null&&b.isNumeric(a.shipping)){f.addInput(id.shipmethod,"normal","hidden");f.addInput(id.shipprice,a.shipping,"hidden");f.addInput(id.shipcurrency,a.currency,"hidden")}f.addInput("_charset_","","hidden");f.append(b("<input>",{id:"shopAdd",type:"image",name:"Google Checkout",alt:"Fast checkout through Google",src:"http://checkout.google.com/buttons/checkout.gif?merchant_id="+
i+"&w=160&h=43&style=trans&variant=text&loc=en_US",height:43,width:160}))}f.add(g).find("input[name=submit]").on("submit",function(){window.open("",a.target,"width=960,height=600,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,directories=no,status=no,copyhistory=no");return true})}})};b.fn.setupShop.defaults={target:"ShoppingCart",currency:"EUR",gateway:"paypal",locale:"US",quantityCap:0,shippingFlat:!1};var xa=function(a){if(a==null)return null;if(typeof a==="string"){a=/^(-?[\d.]+),\s?(-?[\d.]+)$/.exec(a);
return new google.maps.LatLng(a[1],a[2])}return new google.maps.LatLng(a[0],a[1])};b.fn.setupMap=function(a){if(!google||!google.maps)return this;var a=b.extend({},b.fn.setupMap.defaults,a),d=a.markerPath==null?{}:{icon:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),shadow:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(28,24),new google.maps.Point(17,0),new google.maps.Point(8,24)),zIndex:9999},c=a.markerPath==
null?{}:{icon:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(17,21),new google.maps.Point(45,3),new google.maps.Point(8,24)),shadow:new google.maps.MarkerImage(a.markerPath,new google.maps.Size(28,21),new google.maps.Point(62,3),new google.maps.Point(8,24))};return this.each(function(){var e=b(this),f,g,i,p,h;e.readData(a,"type,zoom,map,label,resPath,markers");var k=function(){if(e.data("fresh"))if(e.is(":visible")&&!e.parents(":hidden").length&&e.width()&&e.height()){clearTimeout(h);
e.width(e.parents(".cont").width()-30);google.maps.event.trigger(i,"resize");i.setCenter(f);e.data("fresh",false)}else h=setTimeout(k,200)};p&&p.length&&p.remove();p=b("<div>").css({position:"absolute",top:"-9000px",width:e.width(),height:e.height()}).appendTo("body");e.data("fresh",true).on({adjust:k,destroy:function(){i.getParentNode().removeChild(i);b(window).unbind("resize",k)}});if(a.markers&&a.markers.length&&a.curr!=null)f=a.markers[a.curr].map;else if(a.map){f=xa(a.map);g=a.label}else return;
setTimeout(function(){var j=new google.maps.Map(p[0],{zoom:a.zoom,center:f,mapTypeId:a.type.toLowerCase()});google.maps.event.addListener(j,"maptypeid_changed",function(){b.fn.setupMap.defaults.type=j.getMapTypeId()});google.maps.event.addListener(j,"zoom_changed",function(){b.fn.setupMap.defaults.zoom=j.getZoom()});if(a.markers&&a.markers.length>1)for(var h,k,n=Math.min(a.curr+a.range,a.markers.length),o=Math.max(a.curr-a.range,0);o<n;o++){k=a.markers[o];h={position:k.map,map:j,title:k.label,zIndex:o};
if(o==a.curr)h=new google.maps.Marker(b.extend(h,d));else{h=new google.maps.Marker(b.extend(h,c));if(jQuery.isFunction(a.click)&&k.link){h.link=k.link;google.maps.event.addListener(h,"click",function(){a.click.call(this)})}}}else h=new google.maps.Marker(b.extend({position:f,map:j,title:g},d));p.css({top:0}).appendTo(e);i=j},20);b(window).on("resize",function(){clearTimeout(h);e.data("fresh",true);h=setTimeout(k,100)})})};b.fn.setupMap.defaults={type:"roadmap",zoom:16,range:30};b.fn.markFoldersNew=
function(a){a=b.extend({},b.fn.markFoldersNew.defaults,a);if(a.markNewDays){var d=Math.round((new Date).getTime()/864E5);return this.each(function(){d-parseInt(b(this).data("modified")||0)<=a.markNewDays&&b(this).after(a.newLabel)})}};b.fn.markFoldersNew.defaults={markNewDays:7,newLabel:"NEW"};b.fn.fullScreen=function(a){var b=function(a,b){b=b==="FullScreen"&&n==="webkit"?n+"Is"+b:n&&n+b||b.substr(0,1).toLowerCase()+b.substr(1);return typeof a[b]==="function"?a[b]():a[b]};return typeof a===UNDEF?
b(this[0],"FullScreen"):this.each(function(){s=b(this,"FullScreen");a?s||b(this,"RequestFullScreen"):s&&b(this,"CancelFullScreen")})};b.fn.turtleHelp=function(a,d){var a=b.extend({},b.fn.turtleHelp.defaults,a),d=b.extend({},b.fn.turtleHelp.texts,d),c=b(a.templ.template(d.help)),e=function(){b("body").addModal(c,{uid:"help",title:a.title.template(d.help),width:680})};if(a.useF1&&!b.support.touch)b(document).on("keydown",function(c){if(document.activeElement&&document.activeElement.nodeName==="INPUT"||
b.isFunction(a.enableKeyboard)&&!a.enableKeyboard()||b("#help:visible").length)return true;if((c?c.keyCode:window.event.keyCode)===112){e();return false}return c.returnValue=true});return this.each(function(){b(this).on("click",function(){e();return false})})};b.fn.turtleHelp.defaults={useF1:!0};b.fn.turtleHelp.texts={help:"Using Turtle gallery;Top <b>navigation</b> bar with <b>Home</b> button;<b>Up</b> one level <em>Up arrow</em>;Author or company <b>information</b>;<b>Share</b> and <b>Like</b> buttons for social networking;<b>Search</b> button;Start slideshow <em>Numpad *</em>;Previous image <em>Left arrow</em>;Back to index page <em>Esc</em>;Toggle zoom (fit/1:1) <em>Numpad +</em>;Toggle info window <em>Numpad -</em>;Toggle thumbnail scoller;Start / Stop slideshow <em>Numpad *</em>;Next image <em>Right arrow</em>;Swipe for previous / next image".split(";")};
b.fn.turtleGallery=function(a,d,c){a=b.extend({},b.fn.turtleGallery.defaults,a);d=b.extend({},b.fn.turtleGallery.texts,d);c=b.extend({},b.fn.turtleGallery.ids,c);setTimeout(function(){if(!a.licensee&&(typeof _jaShowAds==UNDEF||_jaShowAds)&&location.protocol.startsWith("http")&&!F("ls")){var c=a.resPath+"/logo.png";b(new Image).load(function(){var a=b("<div>").css({background:"url("+c+") 10px top no-repeat",textAlign:"left",minHeight:"60px",paddingLeft:"90px"}).html("<h3>Turtle skin</h3><p>Unlicensed</p>");
b("body").addModal(a,{width:220,autoFade:500});F("ls",true)}).attr("src",c)}},1E3);for(var e=["thumbsOn","infoOn","metaOn","mapOn","regionsOn","shopOn","shareOn","printOn","fitImage"],f=function(b,c){location.protocol.startsWith("file")||F(b,c);a[b]=c},g,i=0;i<e.length;i++)if(g=F(e[i]))a[e[i]]=g;if(b.support.touch)a.preScale=false;b.fn.setupMap.defaults.zoom=a.mapZoom;b.fn.setupMap.defaults.type=a.mapType;b.fn.setupMap.defaults.markerPath=a.markerPath;b.fn.setupShop.defaults.gateway=a.shopGateway;
b.fn.setupShop.defaults.id=a.shopId;b.fn.setupShop.defaults.path=(a.albumName||"")+": "+a.relPath;b.fn.setupShop.defaults.currency=a.shopCurrency||"EUR";b.fn.setupShop.defaults.handling=a.shopHandling||null;b.fn.setupShop.defaults.locale=a.shopLocale||"US";b.fn.setupShop.defaults.quantityCap=a.shopQuantityCap||0;b.fn.addPlayer.defaults.bgcolor=b("body").css("background-color").rgb2hex();b.fn.addPlayer.defaults.fit=a.videoFit;b.fn.addPlayer.defaults.auto=a.videoAuto;b.fn.centerThis.defaults.fit=a.fitImage;
b.fn.centerThis.defaults.animate=a.transitions;b.fn.centerThis.defaults.padding=a.fitPadding;b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;b.fn.centerThis.defaults.selector="."+c.main;for(i in a.shares)b.fn.shareIt.defaults[i]=a.shares[i];b.fn.shareIt.defaults.callTxt=d.checkOutThis;a.shareSlides=a.shares&&(a.shares.pinItBtn||a.shares.twitter||a.shares.gplus||a.shares.digg||a.shares.delicious||a.shares.myspace||a.shares.stumbleupon||a.shares.reddit||a.shares.email);var p=function(b){var d=b.data(c.caption);
if(d)return d.stripHTML();return(b=b.closest("a"))?b.attr("href").replace(RegExp("^"+a.slides+"\\/"),""):""},h='<span class="'+c.newItem+'">'+d.newItem+"</span>",k=Math.round((new Date).getTime()/864E5);return this.each(function(){var e=b(this).find("li > a"),g,i,n,o,r,m={},v,I,C,E,A,y=null,G=null,z=0,J,F,O=b(window).width(),Y=b(window).height(),Q=[],V=function(d){if(document.activeElement&&(document.activeElement.nodeName==="INPUT"||document.activeElement.nodeName==="TEXTAREA")||b.isFunction(a.enableKeyboard)&&
!a.enableKeyboard())return true;var f=d?d.keyCode:window.event.keyCode;if(g.is(":visible"))switch(f){case 27:S();break;case 37:d=b("."+c.main);f=b("."+c.img);if(d.length)if(d.position().left>=a.fitPadding)ja();else{f=Math.round(f.width()*0.8);d.animate({left:Math.min(d.position().left+f,a.fitPadding)},a.scrollDuration)}break;case 38:d=b("."+c.main);f=b("."+c.img);if(d.length&&!(d.position().top>a.fitPadding)){f=Math.round(f.width()*0.8);d.animate({top:Math.min(d.position().top+f,a.fitPadding)},a.scrollDuration)}break;
case 39:d=b("."+c.main);f=b("."+c.img);if(d.length)if(d.position().left+d.outerWidth()<=f.width()-a.fitPadding)U();else{var i=Math.round(f.width()*0.8);d.animate({left:Math.max(d.position().left-i,f.width()-a.fitPadding-d.outerWidth())},a.scrollDuration)}break;case 40:d=b("."+c.main);f=b("."+c.img);if(d.length&&!(d.position().top+d.outerHeight()<=f.height()-a.fitPadding)){i=Math.round(f.width()*0.8);d.animate({top:Math.max(d.position().top-i,f.height()-a.fitPadding-d.outerHeight())},a.scrollDuration)}break;
case 97:case 35:L(e.length-1);break;case 103:case 36:L(0);break;case 106:case 179:if(J)W();else{if(a.slideshowFullScreen){E=false;b("html").fullScreen(true)}ba()}break;case 107:a.fitImage?ya():za();break;case 109:if(a.infoOn||a.thumbsOn){Aa();Ba()}else{Ca();Da()}break;default:return d.returnValue=true}else switch(f){case 13:case 10:L();break;case 27:R();break;case 37:z=(z?z:e.length)-1;T();break;case 38:z&&a.cols&&(z=Math.max(0,z-a.cols));T();break;case 39:z=(z+1)%e.length;T();break;case 40:z<e.length-
1&&a.cols&&(z=Math.min(e.length-1,z+a.cols));T();break;case 97:case 35:z=e.length-1;T();break;case 103:case 36:z=0;T();break;case 106:case 179:if(a.slideshowFullScreen){E=false;b("html").fullScreen(true)}L();ba();break;default:return d.returnValue=true}},R=function(){(a.level>0?window:parent).location.href=a.uplink||"../"},S=function(){var c=b("[role=main]");if(g.is(":visible")){W();a.slideshowFullScreen&&b("html").fullScreen(false);if(a.skipIndex)R();else{if(c.length&&c.is(":hidden")){c.children().andSelf().css({visibility:"visible",
display:"block"});c.find(".folders>ul>li").equalHeight();c.find(".thumbs>ul>li p").length&&c.find(".thumbs>ul>li").equalHeight();c.find("[role=scroll]").trigger("adjust")}a.transitions?g.fadeOut(a.speed):g.hide();a.hash!=="no"&&b.history.load("")}}else c.length&&c.is(":hidden")&&c.children().andSelf().css({visibility:"visible",display:"block"});c.find("[role=scroll]").data("dragOn",false)},aa=function(){var a=e.eq(z).children("img:first").data(c.src);return a&&a.substr(a.lastIndexOf("/")+1)},T=function(b){e.filter("."+
c.active).removeClass(c.active);e.eq(z).addClass(c.active);!a.skipIndex&&(typeof b===UNDEF||b===false)&&e.eq(z).trigger("setactive");I.eq(z).trigger("setactive")},ja=function(){W();z?L(z-1):a.afterLast==="startover"?L(e.length-1):y.find("."+c.main).trigger("dragcancel")},U=function(){if(z<e.length-1){X();L(z+1)}else if(a.afterLast==="startover"||J&&a.slideshowLoop){X();L(0)}else{if(a.afterLast==="onelevelup"){if(a.uplink){R();return}}else if(a.afterLast==="backtoindex"){if(!a.skipIndex){S();return}}else if(a.afterLast===
"ask"){W();var f=Array({t:d.startOver,h:function(){L(0)}});a.uplink&&f.push({t:a.level>0?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){R()}});a.skipIndex||f.push({t:d.backToIndex,h:function(){S()}});b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),f,{uid:"dialog",title:d.atLastPage,width:480,resizable:false})}y.find("."+c.main).trigger("dragcancel")}},X=function(){if(J){clearInterval(J);J=setInterval(U,a.slideshowDelay)}},ba=function(){m.play.hide();m.pause.showin();J=setInterval(U,
a.slideshowDelay);M()},W=function(){m.pause.hide();m.play.showin();J=clearInterval(J);M()},fa=function(){if(!E){o.stop(true,false).fadeTo(200,1,function(){b.support.cssFilter&&o.css("filter",null)});A=setTimeout(function(){M()},1500)}},M=function(){if(E)A=setTimeout(function(){M()},750);else{A=clearTimeout(A);o.fadeTo(500,a.controlOutOpacity)}},oa=function(){if(parseFloat(o.css("opacity"))>a.controlOutOpacity){A=clearTimeout(A);o.fadeTo(500,a.controlOutOpacity)}else fa()},Aa=function(){if(a.infoOn){m.hideInfo.hide();
m.showInfo.showin();a.transitions?r.animate({bottom:-r.outerHeight()},500,function(){r.hide()}):r.css({bottom:-r.outerHeight()}).hide();M();f("infoOn",false)}},Ca=function(){if(!a.infoOn){m.showInfo.hide();m.hideInfo.showin();r.is(":hidden")&&r.show().css({bottom:-r.outerHeight()});var b=function(){r.children("."+c.map).trigger("adjust")};if(a.transitions)r.animate({bottom:0},500,b);else{r.show().css({bottom:0});b()}M();f("infoOn",true)}},Ba=function(){if(a.thumbsOn){m.hideThumbs.hide();m.showThumbs.showin();
a.transitions?n.animate({top:-v.outerHeight()-10},500):n.css({top:-v.outerHeight()-10});y&&a.fitFreespace&&y.centerThis({fit:a.fitImage,marginTop:0});M();f("thumbsOn",false)}},Da=function(){if(!a.thumbsOn){m.showThumbs.hide();m.hideThumbs.showin();a.transitions?n.animate({top:0},500):n.css({top:0});y&&a.fitFreespace&&y.centerThis({fit:a.fitImage,marginTop:v.outerHeight()});M();f("thumbsOn",true)}},ga=function(){return a.fitFreespace&&n.position().top>=0?v.outerHeight()||0:0},ya=function(){m.noresize.hide();
m.resize.showin();y.centerThis({fit:false,marginTop:ga()});M();f("fitImage",false)},za=function(){m.resize.hide();m.noresize.showin();y.centerThis({fit:true,marginTop:ga()});M();f("fitImage",true)},Ea=function(a){if(!(a<0||a>=e.length)){var d=e.eq(a).children("img").eq(0);!d.data(c.isvideo)&&(!d.data(c.isother)&&!d.data("cached")&&(s=d.data(c.src)))&&b("<img>").on("load",function(){d.data("cached",true)}).attr({src:s})}},ka=function(a){a.trigger("destroy");a.find("."+c.share+"-"+c.icon).trigger("destroy");
a.find("."+c.map).trigger("destroy")},L=function(h){g.is(":hidden")&&(a.transitions?g.fadeIn(a.speed):g.show());if(typeof h!==UNDEF&&h!=null){var k;if(h==null)k=z;else if(typeof h==="number")k=Math.minMax(0,h,e.length);else if((k=e.index(h))<0)k=I.index(h);h=k}else h=z;if(!(y&&y.data("curr")===h)){var n,m=e.eq(h),o,v,m=m.children("img").eq(0);if(m.length){if(y){if(G&&G.length){G.stop();ka(G);G.remove()}G=y;G.css({zIndex:0});G.find("."+c.main).trigger("unswipe").off("touchstart");G.unmousewheel()}(n=
g.children("."+c.img).not(y)).length&&n.stop().remove();y=b("<div>",{"class":c.img}).css({zIndex:1,display:"none"}).data({curr:h}).on("click",function(a){if(b(a.target).hasClass("img")){S();return false}}).appendTo(g);i.css({opacity:0,display:"block"}).animate({opacity:1});z=h;T();var x=b("<div>",{"class":c.main});if(m.data(c.isother)||!(o=m.data(c.src))){n=Math.max(m.data(c.width)||g.width()-160,280);k=Math.max(m.data(c.height)||g.height()-120,200);v=m.clone();x.addClass(c.other);if((o=m.data(c.content))&&
(o=o.trim()).length)x.css({width:n,height:k}).append(o.startsWith("http://")?b("<iframe>",{width:"100%",height:"100%",src:o,frameborder:0,allowfullscreen:"allowfullscreen"}):o);else{x.append(b("<a>",{href:m.data(c.link),target:"_blank"}));x.append(b("<p>",{text:d.clickToOpen}));x.children("a:first").append(v)}pa(x)}else if(m.data(c.isvideo)||m.data(c.isaudio)){n=m.data(c.width)||g.width()-160;k=m.data(c.height)||g.height()-120;var C=J;C&&W();if(m.data(c.isvideo)){o=g.width()-40;v=g.height()-40;var E=
m.data(c.link),E=wa(E);k=k+(E&&Z[E][1]||0);if(n>o||k>v){o=Math.min(o/n,v/k);n=Math.round(n*o);k=Math.round(k*o)}}else{n=Math.max(280,m.attr("width")||0);k=Math.max(280,m.attr("height")||0)}x.addClass(c.other).css({width:n,height:k}).data({ow:n,oh:k});el=x.addPlayer({complete:function(){if(C){U();ba()}},file:m.data(c.link),resPath:a.resPath,poster:m.data(c.poster)||m.attr("src"),auto:a.videoAuto,fit:a.videoFit,width:n,height:k});x.data("media",el);pa(x)}else{n=m.data(c.width);k=m.data(c.height);v=
b(new Image);x.addClass(c.image).append(v).css({width:n,height:k}).data({ow:n,oh:k});v.on("load",function(){m.data("cached",true);pa(x)}).attr({src:o,width:n||"auto",height:k||"auto"})}var A=m;r=b("<div>",{"class":c.bottom});y.append(r);var D=b("<div>",{"class":c.cont}).appendTo(r),F=b("<nav>").appendTo(D),H,M;n=Math.round(y.width()*0.8)-30;D.width()>n&&D.width(n);a.showImageNumbers&&D.append('<div class="nr"><strong>'+(h+1)+"</strong> / "+e.length+"</div>");(H=A.data(c.caption))&&D.append(H);var K,
N;n=[c.meta,c.map,c.shop,c.share,c.print,c.comment];for(o=0;o<n.length;o++){N=n[o];if(A.data(N)!=null){K=b("<div>",{"class":c.panel+" "+c[N]}).data("rel",N).appendTo(D);K.append(b("<div>",{"class":c.icon}));h=b("<a>",{href:NOLINK,"class":N+"-"+c.icon,text:" "}).appendTo(F);h.data("rel",N).addHint(d[N+"Btn"]||N);h.on("click",function(){var d=b(this).data("rel"),e=D.children("."+d),g=e.is(":hidden");b(this).toggleClass(c.active,g);if(d===c.map){var h=function(){g&&e.children("."+c.mapcont).trigger("adjust")};
if(a.transitions)e.slideToggle("fast",h);else{e.toggle();setTimeout(h,50)}}else a.transitions?e.slideToggle("fast"):e.toggle();f(d+"On",g)})}}if(!A.data(c.isvideo)&&!A.data(c.isaudio)&&!A.data(c.isother)){if(a.fotomotoOn){var O=b("<a>",{href:NOLINK,"class":c.fotomoto+"-"+c.icon,text:" "}).appendTo(F);O.addHint(location.protocol.startsWith("file:")?d.locationWarning:d.fotomotoHint);setTimeout(function(){if(typeof FOTOMOTO!==UNDEF&&!location.protocol.startsWith("file:"))O.on("click",function(){FOTOMOTO.API.showWindow(10,
A.attr("src").replace(a.thumbs+"/",a.slides+"/"));return false})},a.speed)}if(A.data(c.regions)){h=b("<a>",{href:NOLINK,"class":c.regions+"-"+c.icon,text:" "}).appendTo(F);a[c.regions+"On"]&&h.addClass(c.active);h.on("click",function(){f(c.regions+"On",!b(this).hasClass(c.active))})}}if(!a.rightClickProtect&&(H=A.data(c.link))){h=b("<a>",{href:H,"class":c.link+"-"+c.icon,target:"_blank",text:" "}).appendTo(F);h.addHint("<strong>"+(A.data(c.isoriginal)?d.original:d.hiRes)+"</strong><br><small>"+d.saveTip+
"</small>")}if(a.shareSlides){var P=b("<a>",{href:NOLINK,"class":c.share+"-"+c.icon,text:" "}).appendTo(F);M=a.hash==="number"?z+1:aa();setTimeout(function(){P.shareIt({hash:M,title:(A.data(c.caption)||"").stripHTML(),image:A.data(c.src)})},a.speed)}y.append(r);D.children("."+c.panel).each(function(){K=b(this);if((N=K.data("rel"))&&(H=A.data(N))!=null){if(N===c.map){var d=b("<div>",{"class":c.mapcont}).appendTo(K);d.width(D.width()-30);a.mapAll?d.setupMap({click:function(){L(this.link)},markers:Q,
curr:parseInt(A.data(c.mapid))}):d.setupMap({map:H,label:p(A)});setTimeout(function(){d.trigger("adjust")},a.speed)}else N===c.shop?K.addClass("clearfix").setupShop({file:A.data(c.src),options:H}):K.append(H);a[N+"On"]?F.children("a."+N+"-icon").addClass(c.active):K.hide()}});F.html().length||F.remove();a.infoOn||r.hide()}}},pa=function(d){if(a.transitions){i.stop(true,false).animate({opacity:0},{duration:100,complete:function(){b(this).hide()}});if(G){var f=G;G.stop(true,false).animate({opacity:0},
{duration:a.speed/2,complete:function(){ka(f);f.remove()}});G=null}}else{i.hide();if(G){G.stop();ka(G);G.remove()}}var g=d.hasClass(c.image);y.children().not("."+c.bottom).remove();y.append(d);if(a.rightClickProtect)d.on("contextmenu",function(a){a.preventDefault();return false});if(a.enableMouseWheel)y.on("mousewheel",function(a,b){b>0?ja():U();return false});setTimeout(function(){if(b.support.touch)d.on("touchstart",oa);else if(e.length>1&&g)d.on("click",function(){U();return false});e.length>1&&
d.addSwipe(function(){b(this).trigger("unswipe");U()},function(){b(this).trigger("unswipe");ja()})},a.speed/2);a.transitions?y.css({opacity:0,display:"block"}).animate({opacity:1},{duration:a.speed,complete:b.browser.cssFilter?function(){y.css({filter:""})}:null}).centerThis({init:true,speed:Math.round(a.speed*0.75),marginTop:ga(),preScale:g&&a.preScale,animate:g&&a.preScale&&a.preScale!=1,fit:a.fitImage}):y.show().centerThis({init:true,marginTop:ga(),fit:a.fitImage});var h=z,k=y.find("nav a."+c.regions+
"-icon").eq(0);if(k.length){h=e.eq(h).find("img:first");k.addRegions(y.find("."+c.main).eq(0),h.data(c.regions))}Ea(z+1);Ea(z-1);if(a.hash==="number")b.history.load(z+1);else if(a.hash==="fileName")(k=aa())&&b.history.load(k)};if(e.length){if(a.header!=null){var D=b(a.header);if(D.length){if(a.showStart){var ha=b("<div>",{"class":c.startShow}).appendTo(D),qa=b("<div>",{"class":c.startTxt,width:"auto",text:d.startSlideshow}).appendTo("body"),Fa=ha.width(),Ga=qa.outerWidth();ha.append(qa);if(Fa<Ga)qa.on({mouseenter:function(){ha.stop(true,
false).animate({width:Ga},500)},mouseleave:function(){ha.stop(true,false).animate({width:Fa},500)}});ha.on({click:function(){a.slideshowFullScreen&&b("html").fullScreen(true);L();ba();return false}})}a.uplink=D.find("."+c.parent+">a").attr("href")||""}}g=b("<div>",{"class":c.gallery}).attr("role","gallery").appendTo("body");i=b("<div>",{"class":c.wait}).appendTo(g);var P=n=b("<div>",{"class":c.navigation}).appendTo(g),ca,$,ra,K,da,ea,Ha,sa=0,ia,D=b("<div>",{"class":c.scrollbox}).appendTo(P);ia=b("<div>",
{"class":"wrap"}).appendTo(D);ia=b("<ul>",{"class":c.cont}).appendTo(ia);e.each(function(d){P=b(this);if(a.rightClickProtect)P.on("contextmenu",function(a){a.preventDefault();return false});K=P.find("img").eq(0);if((da=P.attr("href"))&&K.length){if(a.linkOriginals){ea=K.data(c.closeup);ea=ea.length?ea:da.replace(a.slides+"/","")}else ea=da;K.data(c.src,ea.replaceExt(K.data(c.ext)||"jpg"));Ha=a.thumbs+"/"+da.substring(da.lastIndexOf("/")+1,da.lastIndexOf("."))+"."+(K.data(c.thumbExt)||K.data(c.ext));
$=b("<a>",{href:NOLINK}).appendTo(b("<li>").appendTo(ia));ra=b("<img>").appendTo($);K.attr("src").endsWith("/"+a.loadImg)?K.add(ra).attr("src",Ha):ra.attr("src",K.attr("src"));if((ca=P.attr("title"))&&ca.length)P.add($).addHint(ca);else{ca=P.next();ca.length&&$.addHint(ca.html())}a.markNewDays&&k-parseInt(K.data(c.modified)||0)<=a.markNewDays&&P.add($).append(h);P.on("click",function(){if(b(this).parents("[role=scroll]").data("dragOn")===true)return false;if(!b(this).hasClass(c.active)&&y&&y.length){y.stop();
ka(y);y.remove()}L(e.eq(d));return false});$.on("click",function(){if(b(this).parents("[role=scroll]").data("dragOn")===true)return false;b(this).hasClass(c.active)||L(e.eq(d));b(this).trigger("active");return false});sa=sa+$.outerWidth(true)}});ia.width(sa).scrollThumbs({enableMouseWheel:a.enableMouseWheel});v=D;I=v.find(".cont a");D=b("<nav>",{"class":"controls clearfix"}).appendTo(n);m.prev=b("<a>",{"class":c.prev,title:d.previousPicture}).appendTo(D);m.prev.on("click",function(){W();ja();return false});
m.up=b("<a>",{"class":c.up,title:a.skipIndex?d.upOneLevel:d.backToIndex}).appendTo(D);m.up.on("click",function(){W();S();return false});m.noresize=b("<a>",{"class":c.noresize,title:d.oneToOneSize}).appendTo(D);m.noresize.on("click",function(){ya();return false});m.resize=b("<a>",{"class":c.resize,title:d.fitToScreen}).appendTo(D);m.resize.on("click",function(){za();return false});if(a.fitImage){m.resize.hide();m.noresize.showin()}else{m.noresize.hide();m.resize.showin()}m.hideInfo=b("<a>",{"class":c.hideInfo,
title:d.hideInfo}).appendTo(D);m.hideInfo.on("click",function(){Aa();return false});m.showInfo=b("<a>",{"class":c.showInfo,title:d.showInfo}).appendTo(D);m.showInfo.on("click",function(){Ca();return false});if(a.infoOn){m.showInfo.hide();m.hideInfo.showin()}else{m.hideInfo.hide();m.showInfo.showin()}m.hideThumbs=b("<a>",{"class":c.hideThumbs,title:d.hideThumbs}).appendTo(D);m.hideThumbs.on("click",function(){Ba();return false});m.showThumbs=b("<a>",{"class":c.showThumbs,title:d.showThumbs}).appendTo(D);
m.showThumbs.on("click",function(){Da();return false});if(a.thumbsOn){m.showThumbs.hide();m.hideThumbs.showin()}else{m.hideThumbs.hide();m.showThumbs.showin()}m.play=b("<a>",{"class":c.play,title:d.startAutoplay}).appendTo(D);m.play.on("click",function(){if(a.slideshowFullScreen){E=false;b("html").fullScreen(true)}ba();return false});m.pause=b("<a>",{"class":c.pause,title:d.stopAutoplay}).appendTo(D);m.pause.on("click",function(){W();return false});if(a.slideshowAuto){m.play.hide();m.pause.showin()}else{m.pause.hide();
m.play.showin()}m.next=b("<a>",{"class":c.next,title:d.nextPicture}).appendTo(D);m.next.on("click",function(){X();U();return false});var ta=0;D.children().each(function(){b(this).css("display")!=="none"&&(ta=ta+b(this).outerWidth())});D.width(ta);D.children("a").addHint();o=D;a.thumbsOn||n.css("top",-v.outerHeight()-10);v.on({mouseenter:function(){M();C=true},mouseleave:function(){C=false}});o.on({mouseenter:function(){E=true;b(this).stop(true,false).fadeTo(200,1)},mouseleave:function(){E=false;b(this).stop(true,
false).fadeTo(200,0.8)}});var Ia=0,Ja=0;if(!b.support.touch)g.on("mousemove",function(a){if(!C&&(Ia-a.clientY||Ja-a.clientX)){fa();Ja=a.clientX;Ia=a.clientY}});if(a.mapAll){var la,ma,ua;e.each(function(a){la=b(this).find("img:first");if(la.length&&(ma=la.data("map"))&&(ma=xa(ma))){ua=p(la);Q.push({map:ma,label:a+1+(ua?": "+ua.stripHTML():""),link:b(this)})}})}if(!b.support.touch&&(b.isFunction(a.enableKeyboard)||a.enableKeyboard))b(window).on("keydown",V);a.hash&&a.hash!=="no"&&b.history.init(function(d){var f,
g;if(g=d)if(g=d.length){if(a.hash==="number")d=(parseInt(d)||1)-1;else a:{var h;for(g=0;g<e.length;g++)if((h=e.eq(g).children("img:first").data(c.src))&&h.substring(h.lastIndexOf("/")+1)===d){d=g;break a}d=-1}g=(f=d)>=0&&f<e.length}if(g){L(f);a.slideshowAuto=false}else{S();b.browser.msie&&setTimeout(function(){b("[role=main]").show();b(".folders>ul>li").equalHeight();b("[role=scroll]").trigger("adjust")},10)}});T(true);if(a.slideshowAuto){a.slideshowFullScreen&&b("html").fullScreen(true);L(z);ba()}else a.skipIndex&&
L(z);b(window).on("resize",function(){clearTimeout(F);F=setTimeout(function(){var c=b(window).width(),d=b(window).height();if(c!==O||d!==Y){y&&y.centerThis({fit:a.fitImage,marginTop:ga()});O=c;Y=d}},100)})}})};b.fn.turtleSlide=function(a,d,c){var a=b.extend({},b.fn.turtleGallery.defaults,a),d=b.extend({},b.fn.turtleGallery.texts,d),c=b.extend({},b.fn.turtleGallery.ids,c),e=b(this),a=e.find(".main img").eq(0),d=function(){e.centerThis({init:true,animate:true,fit:false,enlarge:false}).fadeIn(500);e.on("click",
function(){window.location.href=b("nav>a.up").attr("href")})};if(a.length&&!a.width)a.on("load",d);else d();b(".controls .resize").on("click",function(){e.centerThis({init:false,animate:true,fit:true,enlarge:true,padding:15}).fadeIn(500);b(this).hide();b(".controls .noresize").showin()});b(".controls .noresize").on("click",function(){e.centerThis({init:false,animate:true,fit:false,padding:15}).fadeIn(500);b(this).hide();b(".controls .resize").showin()});b(".controls a").addHint();return this};b.fn.turtleGallery.defaults=
{hash:"fileName",resPath:"",relPath:"",level:0,skipIndex:!1,showStart:!0,speed:600,controlOutOpacity:0,transitions:!0,preScale:0.95,slideshowDelay:3E3,slideshowLoop:!1,slideshowAuto:!1,slideshowFullScreen:!1,markNewDays:30,afterLast:"ask",infoOn:!0,showImageNumbers:!0,thumbsOn:!1,fitImage:!0,fitShrinkonly:!0,fitFreespace:!0,fitPadding:15,borderWidth:10,rightClickProtect:!1,metaOn:!1,mapOn:!1,shopOn:!1,fotomotoOn:!1,shareOn:!1,printOn:!1,enableKeyboard:!0,enableMouseWheel:!0,numberLinks:!1,videoAuto:!0,
videoFit:!0,videoWidth:640,videoHeight:480,scrollDuration:1E3};b.fn.turtleGallery.texts={startSlideshow:"Start slideshow",close:"Close",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",stop:"Stop",upOneLevel:"Up one level",backToIndex:"Back to index page",previousPicture:"Previous picture",nextPicture:"Next picture",oneToOneSize:"1:1 size",fitToScreen:"Fit to screen",showInfo:"Show caption / info",hideInfo:"Hide caption / info",showThumbs:"Show thumbnails",
hideThumbs:"Hide thumbnails",startAutoplay:"Start autoplay",stopAutoplay:"Stop autoplay",closeWindow:"Close window",clickToOpen:"Click to open this document with the associated viewer",download:"Download",original:"Original",hiRes:"Hi res.",saveTip:"Use Right click -> Save link as... to download",metaBtn:"Photo data",metaLabel:"Display photograpic (Exif/Iptc) data",mapBtn:"Map",mapLabel:"Show the photo location on map",shopBtn:"Buy",shopLabel:"Show options to buy this item",shareBtn:"Share",shareLabel:"Share this photo over social sites",
locationWarning:"Works only when uploaded"};b.fn.turtleGallery.ids={gallery:"gallery",navigation:"navigation",scrollbox:"scrollbox",active:"active",parent:"parent",bottom:"bottom",img:"img",main:"main",image:"image",video:"video",audio:"audio",other:"other",wait:"wait",cont:"cont",panel:"panel",icon:"icon",caption:"caption",meta:"meta",map:"map",mapcont:"mapcont",mapid:"mapid",shop:"shop",fotomoto:"fotomoto",share:"share",print:"print",comment:"comment",link:"link",poster:"poster",isoriginal:"isoriginal",
content:"content",width:"width",height:"height",src:"src",ext:"ext",thumbExt:"thumbext",regions:"regions",isvideo:"isvideo",isaudio:"isaudio",isother:"isother",modified:"modified",startShow:"startshow",startBtn:"startbtn",startTxt:"starttxt",prev:"prev",next:"next",up:"up",noresize:"noresize",resize:"resize",hideInfo:"hideinfo",showInfo:"showinfo",hideThumbs:"hidethumbs",showThumbs:"showthumbs",play:"play",pause:"pause",newItem:"newlabel",showHint:"showhint"}})(jQuery);